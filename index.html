<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mutuo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Barra Superior -->
    <header class="top-bar">
        <div class="top-bar-content">
            <h1 class="app-name">Mutuo</h1>
        </div>
    </header>
    
    <!-- Barra de Navegación Principal -->
    <nav class="navbar">
        <ul class="nav-tabs" id="main-nav">
            <li class="nav-tab active" data-tab="iniciar-simulacion">Iniciar simulación</li>
            <li class="nav-tab" data-tab="mis-simulaciones">Mis simulaciones</li>
            <li class="nav-tab" data-tab="comparador">Comparador</li>
            <li class="nav-tab" data-tab="preguntas-frecuentes">Preguntas Frecuentes</li>
        </ul>
    </nav>
    
    <!-- Barra de Navegación Secundaria (se muestra solo en "Iniciar Simulación") -->
    <nav class="navbar" id="secondary-nav">
        <ul class="nav-tabs" id="simulation-nav">
            <li class="nav-tab active" data-tab="datos-simulacion">Datos de la simulación</li>
            <li class="nav-tab" data-tab="condiciones-hipoteca">Condiciones de la hipoteca</li>
            <li class="nav-tab" data-tab="cuota-mensual">Cuota mensual</li>
            <li class="nav-tab" data-tab="calendario-pagos">Calendario de pagos</li>
            <li class="nav-tab" data-tab="resumen-financiero">Resumen</li>
        </ul>
    </nav>
    
    <main>
        <!-- Sección: Iniciar Simulación -->
        <div class="section active" id="iniciar-simulacion">
            <!-- Subsecciones dentro de Iniciar Simulación -->
            <!-- Sección 1: Datos de la Simulación -->
            <section class="subsection active" id="datos-simulacion">
                <div class="section-container">
                    <h2>Datos de la simulación</h2>
                    <form id="datos-simulacion-form">
                        <!-- Nombre de la Simulación -->
                        <div class="form-group">
                            <label for="nombre-simulacion">Nombre de la simulación</label>
                            <input type="text" id="nombre-simulacion" placeholder="Ejemplo: Mi Primera Casa" required>
                            <small class="description">Asigna un nombre único para identificar esta simulación.</small>
                        </div>
                        
                        <!-- Precio de la Propiedad -->
                        <div class="form-group">
                            <label for="precio-propiedad">Coste de la vivienda sin impuestos (€)</label>
                            <input type="number" id="precio-propiedad" placeholder="Ingrese el precio de la propiedad" min="0" step="0.01" required>
                            <small class="description">El valor total de la vivienda que deseas adquirir.</small>
                        </div>
                        
                        <!-- Entrada -->
                        <div class="form-group">
                            <label for="entrada">Entrada</label>
                            <div class="input-group">
                                <input type="number" id="entrada" name="entrada" placeholder="Ejemplo: 20" min="0" step="0.01" required>
                                <select id="tipo-entrada" name="tipo-entrada">
                                    <option value="%">%</option>
                                    <option value="€">€</option>
                                </select>
                                <span class="calculated-value" id="entrada-calculado"></span>
                            </div>
                            <div class="description">Ingrese la Entrada como porcentaje (%) o en euros (€).</div>
                        </div>
                        
                        <!-- Arras -->
                        <div class="form-group">
                            <label for="arras">Arras</label>
                            <div class="input-group">
                                <input type="number" id="arras" name="arras" placeholder="Ejemplo: 2" min="0" step="0.01" required>
                                <select id="tipo-arras" name="tipo-arras">
                                    <option value="%">%</option>
                                    <option value="€">€</option>
                                </select>
                                <span class="calculated-value" id="arras-calculado"></span>
                            </div>
                            <div class="description">Ingrese las Arras como porcentaje (%) o en euros (€).</div>
                        </div>
                        
                        <!-- Gastos hipoteca -->
                        <h3>Gastos hipoteca</h3>
                        
                        <!-- Tasación de Vivienda -->
                        <div class="form-group">
                            <label for="tasacion">Tasación de Vivienda (€)</label>
                            <input type="number" id="tasacion" placeholder="Ingrese el costo de tasación" min="0" step="0.01" required>
                            <small class="description">Costo del servicio profesional que determina el valor de la propiedad.</small>
                        </div>

                        <!-- Gastos compraventa -->
                        <h3>Gastos compraventa</h3>
                        
                        <!-- Notaría -->
                        <div class="form-group">
                            <label for="notaria">Notaría (€)</label>
                            <input type="number" id="notaria" placeholder="Ingrese el costo de notaría" min="0" step="0.01" required>
                            <small class="description">Honorarios del notario para la formalización de la escritura.</small>
                        </div>
                        
                        <!-- Gestoría -->
                        <div class="form-group">
                            <label for="gestoria">Gestoría (€)</label>
                            <input type="number" id="gestoria" placeholder="Ingrese el costo de gestoría" min="0" step="0.01" required>
                            <small class="description">Costos asociados a los trámites administrativos.</small>
                        </div>
                        
                        <!-- Registro de la Propiedad -->
                        <div class="form-group">
                            <label for="registro-propiedad">Registro de la propiedad (€)</label>
                            <input type="number" id="registro-propiedad" placeholder="Ingrese el costo del registro" min="0" step="0.01" required>
                            <small class="description">Gastos para inscribir la propiedad a tu nombre.</small>
                        </div>
                        
                        <!-- IVA o ITP -->
                        <div class="form-group">
                            <label for="impuesto">IVA/ITP (%)</label>
                            <div class="input-group">
                                <input type="number" id="impuesto" name="impuesto" placeholder="Ejemplo: 10" min="0" max="100" step="0.01" required>
                                <span class="calculated-value" id="impuesto-calculado"></span>
                            </div>
                            <div class="description">Impuesto sobre el valor añadido o impuesto de transmisiones patrimoniales.</div>
                        </div>
                        
                        <!-- Total Inicial -->
                        <div class="total-inicial">
                            <strong>Ahorro inicial necesario (€):</strong> €<span id="total-inicial">0.00</span>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- Sección 2: Condiciones de la Hipoteca -->
            <section class="subsection" id="condiciones-hipoteca">
                <div class="section-container">
                    <h2>Condiciones de la hipoteca</h2>
                    <form id="condiciones-hipoteca-form">
                        <!-- TIN -->
                        <div class="form-group">
                            <label for="tin">Tipo de Interés Nominal (TIN) (%)</label>
                            <input type="number" id="tin" placeholder="Ejemplo: 1.5" min="0" step="0.01" required>
                            <small class="description">El interés anual que aplicará el banco.</small>
                        </div>
                        
                        <!-- TAE -->
                        <div class="form-group">
                            <label for="tae">Tasa Anual Equivalente (TAE) (%)</label>
                            <input type="number" id="tae" placeholder="Ejemplo: 1.75" min="0" step="0.01" required>
                            <small class="description">Incluye intereses y otros gastos asociados.</small>
                        </div>
                        
                        <!-- Plazo del Préstamo -->
                        <div class="form-group">
                            <label for="plazo">Plazo del préstamo (años)</label>
                            <input type="number" id="plazo" placeholder="Ejemplo: 30" min="1" max="40" step="1" required>
                            <small class="description">Número de años para pagar el préstamo.</small>
                        </div>
    
                        <!-- Seguros y Productos Vinculados -->
                        <div class="form-group">
                            <label for="seguros-productos">Seguros y productos vinculados (€)</label>
                            <input type="number" id="seguros-productos" placeholder="Costo mensual" min="0" step="0.01">
                            <small class="description">Costo mensual de seguros y otros productos obligatorios.</small>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- Sección 3: Cuota Mensual -->
            <section class="subsection" id="cuota-mensual">
                <div class="section-container">
                    <h2>Cuota mensual</h2>
                    <form id="cuota-mensual-form">
                        <!-- Monto del Préstamo -->
                        <div class="form-group">
                            <label>Importe de la hipoteca (€)</label>
                            <div class="input-with-calculation">
                                <span id="monto-prestamo">0.00</span>
                            </div>
                            <small class="description">Cantidad que solicitarás al banco.</small>
                        </div>
                        
                        <!-- Cuota Mensual Estimada -->
                        <div class="form-group">
                            <label>Cuota mensual sin seguros ni productos vinculados (€)</label>
                            <div class="input-with-calculation">
                                <span id="cuota-estimada">0.00</span>
                            </div>
                            <small class="description">Pago mensual sin incluir seguros ni otros productos.</small>
                        </div>
                        
                        <!-- Cuota Mensual Total -->
                        <div class="form-group">
                            <label>Cuota mensual con seguros y productos vinculados (€)</label>
                            <div class="input-with-calculation">
                                <span id="cuota-total">0.00</span>
                            </div>
                            <small class="description">Pago mensual incluyendo seguros y productos vinculados.</small>
                        </div>
                        
                        <!-- Botones de Acción -->
                        <div class="button-group">
                            <button id="calcular-cuota" class="btn btn-calcular" type="button">Calcular cuota</button>
                            <button id="guardar-simulacion" class="btn btn-guardar" type="button">Guardar simulación</button>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- Sección 4: Calendario de Pagos -->
            <section class="subsection" id="calendario-pagos">
                <div class="section-container">
                    <h2>Calendario de pagos</h2>
                    <!-- Tabla de Amortización -->
                    <table class="tabla-amortizacion">
                        <thead>
                            <tr>
                                <th>Mes</th>
                                <th>Cuota (€)</th>
                                <th>Interés (€)</th>
                                <th>Capital (€)</th>
                                <th>Capital pendiente (€)</th>
                            </tr>
                        </thead>
                        <tbody id="tabla-amortizacion-body">
                            <!-- Las filas de la tabla se generarán dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Sección 5: Resumen Financiero -->
            <section class="subsection" id="resumen-financiero">
                <div class="section-container">
                    <h2>Resumen</h2>
                    <div class="resumen-content">
                        <p><strong>Ahorro inicial necesario (€):</strong> €<span id="ahorro-necesario">0.00</span></p>
                        <p><strong>Financiación solicitada (€):</strong> €<span id="financiacion-solicitada">0.00</span></p>
                        <p><strong>Coste total de la hipoteca (€):</strong> €<span id="coste-total-hipoteca">0.00</span></p>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Sección: Mis Simulaciones -->
        <div class="section" id="mis-simulaciones">
            <div class="section-container">
                <h2>Mis simulaciones</h2>
                <div id="lista-simulaciones">
                    <!-- Las simulaciones guardadas se listarán aquí -->
                </div>
        
                <!-- Botones de Exportar e Importar Simulaciones -->
                <div class="button-group">
                    <button id="exportar-simulaciones" class="btn btn-exportar">Exportar simulaciones</button>
                    <input type="file" id="importar-simulaciones" accept=".json" style="display:none;">
                    <button id="importar-simulaciones-btn" class="btn btn-importar">Importar simulaciones</button>
                </div>
            </div>
        </div>
        
        <!-- Sección: Comparador -->
        <div class="section" id="comparador">
            <div class="section-container">
                <h2>Comparador de simulaciones</h2>
                <!-- Contenido para comparar simulaciones -->
                <div id="comparador-contenido">
                    <!-- Aquí se mostrarán las simulaciones comparadas -->
                    <!-- Se elimina la sección separada para la cuota, ya que se incluirá en la tabla -->
                </div>
            </div>
        </div>
        
        <!-- Sección: Preguntas Frecuentes -->
        <div class="section" id="preguntas-frecuentes">
            <div class="section-container">
                <h2>Preguntas Frecuentes</h2>
                <!-- Contenido de Preguntas Frecuentes -->
                <div class="faq-item">
                    <h3>¿Qué es el TIN?</h3>
                    <p>El TIN es el Tipo de Interés Nominal que indica el porcentaje que se aplica al capital prestado.</p>
                </div>
                <div class="faq-item">
                    <h3>¿Qué es el TAE?</h3>
                    <p>El TAE es la Tasa Anual Equivalente que incluye el TIN y otros gastos asociados al préstamo, ofreciendo una visión más completa del coste.</p>
                </div>
                <!-- Añade más preguntas y respuestas según sea necesario -->
            </div>
        </div>
    </main>
    
    <footer>
        <div class="footer-container">
            <p>&copy; 2024 Mutuo. Todos los derechos reservados.</p>
        </div>
    </footer>
    
    <script src="script.js"></script>
</body>
</html>

